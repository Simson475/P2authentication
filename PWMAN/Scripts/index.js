!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=167)}({167:function(e,n,t){document.getElementById("LogIn-form").addEventListener("submit",(async function(e){e.preventDefault();let n=document.getElementById("LogIn-form");chrome.storage.local.get([n.username.value],(async function(e){let n=document.getElementById("LogIn-form"),t=n.password.value.concat(e[n.username.value]),s=o(t),d={username:n.username.value,password:s},u=await r("/validate",d);u=await u.json(),null!=u.error?(console.log(u),function(){let e=document.getElementById("LogIn-username"),n=document.getElementById("LogIn-password"),t=document.getElementById("LogIn-paragraph");e.style.borderColor="red",n.style.borderColor="red",t.style.display="inline"}()):chrome.runtime.sendMessage({token:"bearer "+u.token},(function(e){console.log("Bearer token successfully saved"),1==e.success?l("SignIn"):console.log("*An error has occured*")})),n.reset()}))})),document.getElementById("SignedIn-submit").addEventListener("click",(async function(e){e.preventDefault(),chrome.runtime.sendMessage({getToken:!0},(async function(e){console.log(e),null!==e.token&&(void 0!==e.token?chrome.tabs.query({active:!0,currentWindow:!0},(async function(n){let t=n[0],o=await postRequset("/getPassword",t.url,e.token);o=await o.json(),null!=o.error?(console.log(o),l("Error",o)):l("retrievePassword",o)})):console.log("response.token is undefined"))}))})),document.getElementById("LogoutButton").addEventListener("click",(function(){chrome.runtime.sendMessage({token:null},(function(e){if(1==e.success){let e=document.getElementById("SignedIn"),n=document.getElementById("Logout");document.getElementById("Settings").style.display="none",s(e,n)}else console.log("*An error has occured*")}))}));const{hashCode:o,postRequest:r}=t(8);function s(e,n){e.style.display="none",n.style.display="inline"}function l(e,n){switch(e){case"retrievePassword":let e=document.getElementById("SignedIn-username"),t=document.getElementById("SignedIn-password"),o=document.getElementById("SignedIn-submit"),r=document.getElementById("SignedIn2"),l=document.getElementById("LogoutButton");document.getElementById("Settings").style.display="none",l.style.display="none",document.getElementById("SignedIn-website").style.display="none",e.innerHTML=n.username,t.innerHTML=n.password,s(o,r);break;case"SignIn":let d=document.getElementById("LogIn"),u=document.getElementById("SignedIn"),a=document.getElementById("Settings");a.style.top="160px",a.style.left="110px",a.style.padding="5px",a.style.paddingBottom="4px",s(d,u);break;case"Error":let c=document.getElementById("SignedIn-submit"),i=document.getElementById("error"),m=document.getElementById("LogoutButton"),g=document.getElementById("Settings");m.style.display="none",g.style.display="none",s(c,i);break;default:console.log("Something went wrong!")}}chrome.runtime.sendMessage({getToken:!0},(function(e){null!==e.token&&l("SignIn")}))},8:function(e,n){e.exports={hashCode:function(e){return e.split("").reduce((e,n)=>(e<<5)-e+n.charCodeAt(0)|0,0)},checkRegex:function(e){return/(?=.{8,}$)((?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]))/.test(e)},generatePassword:function(){let e=[],n=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","O","N","P","Q","R","S","T","U","V","X","Y","Z"],t=Math.floor(5*Math.random())+15;for(let o=0;o<t;o++)e[o]=n[Math.floor(61*Math.random())];return e.join("")},postRequest:async function(e,n,t){return await fetch("https://sw2b2-23.p2datsw.cs.aau.dk/node0/"+e,{method:"POST",headers:{"Content-Type":"application/json",authorization:t},body:JSON.stringify(n,null,2)})}}}});